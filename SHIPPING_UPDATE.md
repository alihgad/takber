# ๐ ุชุญุฏูุซ ูุธุงู ุงูุทูุจุงุช - ุฅุถุงูุฉ ูุตุงุฑูู ุงูุดุญู ุงูุชููุงุฆูุฉ

## ๐ ุงูุชุญุฏูุซุงุช ุงููุถุงูุฉ:

### โ **1. ุฅุถุงูุฉ ุญูู ุงููุฏููุฉ ูู ุงูุทูุจุงุช**
- ุชู ุฅุถุงูุฉ ุญูู `city` ุฅุฌุจุงุฑู ูู ูููุฐุฌ ุงูุทูุจ
- ุชู ุฅุถุงูุฉ ุญูู `shippingAmount` ูุญูุธ ุชูููุฉ ุงูุดุญู

### โ **2. ุญุณุงุจ ูุตุงุฑูู ุงูุดุญู ุชููุงุฆูุงู**
- ูุชู ุงูุจุญุซ ูู ุฌุฏูู `shippingAmount` ุญุณุจ ุงููุฏููุฉ
- ูุชู ุฅุถุงูุฉ ุชูููุฉ ุงูุดุญู ุชููุงุฆูุงู ูููุจูุบ ุงูุฅุฌูุงูู
- ุฅุฐุง ูู ุชูู ุงููุฏููุฉ ูุชููุฑุฉุ ูุชู ุฅุฑุฌุงุน ุฎุทุฃ

### โ **3. API ุฌุฏูุฏ ููุญุตูู ุนูู ูุตุงุฑูู ุงูุดุญู**
- `GET /order/shipping/:city` - ููุญุตูู ุนูู ุชูููุฉ ุงูุดุญู ููุฏููุฉ ูุนููุฉ

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ:

### **ูููุฐุฌ ุงูุทูุจ (Order Model)**:
```javascript
// ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ
city: {
    type: String,
    required: true
},
shippingAmount: {
    type: Number,
    required: true,
    default: 0
}
```

### **ุฅูุดุงุก ุงูุทูุจ (Create Order)**:
```javascript
// ุงูุฎุทูุงุช ุงูุฌุฏูุฏุฉ:
1. ุงุณุชูุจุงู ุงููุฏููุฉ ูู ุงูุทูุจ
2. ุงูุจุญุซ ุนู ุชูููุฉ ุงูุดุญู ูู DB
3. ุฅุถุงูุฉ ุชูููุฉ ุงูุดุญู ูููุจูุบ ุงูุฅุฌูุงูู
4. ุญูุธ ุงููุฏููุฉ ูุชูููุฉ ุงูุดุญู ูู ุงูุทูุจ
```

### **ุงูุงุณุชุฌุงุจุฉ ุงูุฌุฏูุฏุฉ**:
```json
{
  "message": "Order created successfully",
  "order": {
    "_id": "...",
    "amount": 45500,        // ุงููุจูุบ ุงูุฅุฌูุงูู (ูุดูู ุงูุดุญู)
    "shippingAmount": 500,  // ุชูููุฉ ุงูุดุญู
    "subtotal": 45000,      // ุงููุจูุบ ูุจู ุงูุดุญู
    "city": "ุงููุงูุฑุฉ",
    "discount": 0,
    // ... ุจุงูู ุงูุจูุงูุงุช
  }
}
```

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู:

### **1. ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ**:
```json
POST /order
{
  "address": ["ุดุงุฑุน ุงููููุ ุงููุงูุฑุฉ"],
  "phoneNumbers": ["01012345678"],
  "city": "ุงููุงูุฑุฉ",
  "couponId": "optional_coupon_id"
}
```

### **2. ุงูุญุตูู ุนูู ุชูููุฉ ุงูุดุญู**:
```bash
GET /order/shipping/ุงููุงูุฑุฉ
```

**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "message": "Shipping information retrieved successfully",
  "shipping": {
    "amount": 500,
    "city": "ุงููุงูุฑุฉ",
    "active": true
  },
  "available": true
}
```

## ๐ฏ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:

### **โ ุงูุชุญูู ุงูุชููุงุฆู**:
- ุงูุชุญูู ูู ุชููุฑ ุงูุดุญู ูููุฏููุฉ
- ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ุฅุฐุง ูู ุชูู ุงููุฏููุฉ ูุชููุฑุฉ

### **โ ุงูุดูุงููุฉ**:
- ุนุฑุถ ุชูููุฉ ุงูุดุญู ูููุตูุฉ ูู ุงูุงุณุชุฌุงุจุฉ
- ุนุฑุถ ุงููุจูุบ ุงูุฅุฌูุงูู ูุงููุจูุบ ูุจู ุงูุดุญู

### **โ ุงููุฑููุฉ**:
- ูููู ุฅุถุงูุฉ ูุฏู ุฌุฏูุฏุฉ ูู ุฎูุงู ShippingAmount API
- ูููู ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุดุญู ููุฏููุฉ ูุนููุฉ

## ๐ ุชุฑุชูุจ ุงูุนูููุงุช:

### **ุนูุฏ ุฅูุดุงุก ุงูุทูุจ**:
1. โ ุงูุชุญูู ูู ูุฌูุฏ ููุชุฌุงุช ูู ุงููุงุฑุช
2. โ ุญุณุงุจ ุงููุจูุบ ุงูุฅุฌูุงูู ููููุชุฌุงุช
3. โ ุงูุจุญุซ ุนู ุชูููุฉ ุงูุดุญู ูููุฏููุฉ
4. โ ุงูุชุญูู ูู ุงูููุจูู (ุฅุฐุง ูุฌุฏ)
5. โ ุฅุถุงูุฉ ุชูููุฉ ุงูุดุญู ูููุจูุบ ุงูุฅุฌูุงูู
6. โ ุงูุชุญูู ูู ุชููุฑ ุงููุฎุฒูู
7. โ ุฅูุดุงุก ุงูุทูุจ ูุน ุญูุธ ุฌููุน ุงูุจูุงูุงุช
8. โ ุชูุฑูุบ ุงููุงุฑุช

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

### **ุฅุฐุง ูู ุชูู ุงููุฏููุฉ ูุชููุฑุฉ**:
```json
{
  "message": "Shipping not available for city: ุงููุฏููุฉ. Please contact support.",
  "available": false
}
```

### **ุฅุฐุง ูุงู ุงููุงุฑุช ูุงุฑุบ**:
```json
{
  "message": "Cart is empty"
}
```

## ๐ ูุซุงู ุนููู:

### **ุงูุจูุงูุงุช ุงููุฏุฎูุฉ**:
```json
{
  "city": "ุงููุงูุฑุฉ",
  "couponId": "SAVE10"
}
```

### **ุงูุนูููุงุช**:
1. ูุจูุบ ุงูููุชุฌุงุช: 45,000 ุฌููู
2. ุชูููุฉ ุงูุดุญู: 500 ุฌููู
3. ุฎุตู ุงูููุจูู (10%): 4,500 ุฌููู
4. **ุงููุจูุบ ุงูุฅุฌูุงูู: 41,000 ุฌููู**

### **ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "message": "Order created successfully",
  "order": {
    "amount": 41000,
    "shippingAmount": 500,
    "subtotal": 40500,
    "discount": 4500,
    "city": "ุงููุงูุฑุฉ"
  }
}
```

## ๐ง ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### **ุฅุถุงูุฉ ูุฏู ุฌุฏูุฏุฉ**:
```bash
POST /shippingAmount
{
  "amount": 300,
  "city": "ุงูุฅุณููุฏุฑูุฉ",
  "active": true
}
```

### **ุชุญุฏูุซ ุชูููุฉ ุงูุดุญู**:
```bash
PUT /shippingAmount/:id
{
  "amount": 400
}
```

## ๐ ุงูุฏุนู:

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ูุฌูุฏ ุงููุฏููุฉ ูู ุฌุฏูู `shippingAmount`
2. ุชุฃูุฏ ูู ุฃู ุงููุฏููุฉ ููุนูุฉ (`active: true`)
3. ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
4. ุฑุงุฌุน ุงูู logs ูู console 